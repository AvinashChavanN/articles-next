{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport Layout from '../components/Layout';\nimport Article from '../components/Article';\nimport { inject, observer } from 'mobx-react';\nimport Error from 'next/error';\nimport axios from \"axios\";\nvar query = \"{ articles{\\n  id,   \\n  title,       \\n  author{\\n    fullName,\\n    avatar\\n  },\\n  description,\\n  image,\\n  publishedAt\\n} }\";\nvar Articles = inject('articleStore')(observer(function (_ref) {\n  var articles = _ref.articles;\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: \"Article Page\",\n    description: \"Best place to find latest articles\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex mt-24 flex-wrap px-8 justify-evenly\"\n  }, articles && articles.length > 0 ? articles.map(function (article) {\n    return /*#__PURE__*/React.createElement(Article, {\n      title: article.title,\n      content: article.description,\n      author: article.author,\n      image: article.image,\n      publishedAt: article.publishedAt,\n      key: article.id,\n      id: article.id\n    });\n  }) : /*#__PURE__*/React.createElement(Error, null)));\n}));\n\nArticles.getInitialProps = function _callee(_ref2) {\n  var mobxStore, response;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          mobxStore = _ref2.mobxStore;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(axios.post(\"http://localhost:3000/api/graphql\", {\n            query: query\n          }));\n\n        case 3:\n          response = _context.sent;\n          return _context.abrupt(\"return\", _objectSpread({}, response.data.data));\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Articles;","map":{"version":3,"sources":["C:/Users/M1059011/Desktop/Tasks/modern-web-articles/pages/articles.js"],"names":["React","Layout","Article","inject","observer","Error","axios","query","Articles","articles","length","map","article","title","description","author","image","publishedAt","id","getInitialProps","mobxStore","post","response","data"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,YAAjC;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,KAAK,qIAAX;AAYA,IAAMC,QAAQ,GAAGL,MAAM,CAAC,cAAD,CAAN,CAAuBC,QAAQ,CAAC;AAAA,MAAIK,QAAJ,QAAIA,QAAJ;AAAA,sBAC/C,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,cAAd;AAA6B,IAAA,WAAW,EAAC;AAAzC,kBACA;AAAK,IAAA,SAAS,EAAC;AAAf,KACGA,QAAQ,IAAIA,QAAQ,CAACC,MAAT,GAAkB,CAA9B,GACCD,QAAQ,CAACE,GAAT,CAAa,UAAAC,OAAO;AAAA,wBAClB,oBAAC,OAAD;AACE,MAAA,KAAK,EAAEA,OAAO,CAACC,KADjB;AAEE,MAAA,OAAO,EAAED,OAAO,CAACE,WAFnB;AAGE,MAAA,MAAM,EAAEF,OAAO,CAACG,MAHlB;AAIE,MAAA,KAAK,EAAEH,OAAO,CAACI,KAJjB;AAKE,MAAA,WAAW,EAAEJ,OAAO,CAACK,WALvB;AAME,MAAA,GAAG,EAAEL,OAAO,CAACM,EANf;AAOE,MAAA,EAAE,EAAEN,OAAO,CAACM;AAPd,MADkB;AAAA,GAApB,CADD,gBAYC,oBAAC,KAAD,OAbJ,CADA,CAD+C;AAAA,CAAD,CAA/B,CAAjB;;AAoBAV,QAAQ,CAACW,eAAT,GAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,UAAAA,SAAT,SAASA,SAAT;AAAA;AAAA,2CAEFd,KAAK,CAACe,IAAN,sCAAgD;AACrEd,YAAAA,KAAK,EAALA;AADqE,WAAhD,CAFE;;AAAA;AAEnBe,UAAAA,QAFmB;AAAA,6DAKdA,QAAQ,CAACC,IAAT,CAAcA,IALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA3B;;AAQA,eAAef,QAAf","sourcesContent":["import React from 'react';\r\nimport Layout from '../components/Layout';\r\nimport Article from '../components/Article';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Error from 'next/error'\r\nimport axios from \"axios\";\r\n\r\nconst query = `{ articles{\r\n  id,   \r\n  title,       \r\n  author{\r\n    fullName,\r\n    avatar\r\n  },\r\n  description,\r\n  image,\r\n  publishedAt\r\n} }`;\r\n\r\nconst Articles = inject('articleStore')(observer(( { articles } ) => (\r\n  <Layout title=\"Article Page\" description=\"Best place to find latest articles\">\r\n  <div className=\"flex mt-24 flex-wrap px-8 justify-evenly\">\r\n    {articles && articles.length > 0\r\n    ? articles.map(article => (\r\n        <Article\r\n          title={article.title}\r\n          content={article.description}\r\n          author={article.author}\r\n          image={article.image}\r\n          publishedAt={article.publishedAt}\r\n          key={article.id}\r\n          id={article.id}\r\n        />\r\n      ))\r\n    : <Error/>}\r\n    </div>\r\n</Layout>\r\n)));\r\n\r\nArticles.getInitialProps = async ({ mobxStore }) => {\r\n  // await mobxStore.articleStore.fetchAllArticles();\r\n  const response = await axios.post(`http://localhost:3000/api/graphql`, {\r\n    query\r\n  });\r\n  return {...response.data.data}\r\n}\r\n\r\nexport default Articles;"]},"metadata":{},"sourceType":"module"}